<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AetherClass ‚Äî Assignments</title>
<style>
:root{
  --bg:#0c0f1e;
  --card:#101428;
  --muted:#a0adca;
  --accent1:#7b2ff7;
  --accent2:#00d4ff;
  --glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
body{
  margin:0;
  background: linear-gradient(180deg,#071024 0%, #071022 60%), radial-gradient(circle at 20% 10%, rgba(123,47,247,0.06), transparent 10%);
  color:#e6eef8;
  font-family: Inter, "Segoe UI", system-ui, -apple-system, Roboto, "Helvetica Neue", Arial;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
}

/* Classroom page */
.classroom {
  width:980px;
  max-width:calc(100% - 48px);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));
  border-radius:12px;
  padding:22px;
  box-shadow: 0 10px 40px rgba(2,6,23,0.7);
  border: 1px solid rgba(255,255,255,0.03);
}
.top { display:flex; justify-content:space-between; align-items:center; gap:16px; }
.title { display:flex; gap:12px; align-items:center; }
.brand { background: linear-gradient(135deg,var(--accent1),var(--accent2)); width:56px;height:56px;border-radius:10px; display:grid;place-items:center;font-weight:700;color:#02112a;font-size:20px; box-shadow:0 6px 18px rgba(123,47,247,0.12); }
h1{font-size:20px;margin:0}
p.sub{color:var(--muted);margin:6px 0 0;font-size:13px}
.assignments { display:grid; grid-template-columns:1fr 320px; gap:20px; margin-top:18px; }
.cards{ display:grid; gap:12px; }
.card{ background:var(--card); padding:14px; border-radius:10px; border:1px solid var(--glass); display:flex; justify-content:space-between; align-items:center; }
.card h3{margin:0;font-size:15px}
.card p{margin:6px 0 0;color:var(--muted);font-size:13px}
.sidebar{ background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008)); padding:14px;border-radius:10px;border:1px solid var(--glass); }
.btn { background: linear-gradient(90deg,var(--accent1),var(--accent2)); color:#02112a;padding:10px 14px;border-radius:9px;border:none;font-weight:700;cursor:pointer;box-shadow:0 8px 22px rgba(11,13,30,0.5);}
.btn.ghost{background:transparent;color:var(--muted);border:1px solid var(--glass)}
small.hint { color:var(--muted); display:block; margin-top:8px; font-size:12px; }
footer.attribution{display:flex;justify-content:space-between;align-items:center;margin-top:18px;color:var(--muted);font-size:13px}
@media (max-width:880px){ .assignments{ grid-template-columns:1fr; } }
</style>
</head>
<body>
<div class="classroom">
  <div class="top">
    <div class="title">
      <div class="brand">A</div>
      <div>
        <h1>AetherClass ‚Äî Assignments</h1>
        <p class="sub">Today's tasks and the AetherOS lab. Click below to enter the class environment.</p>
      </div>
    </div>
    <div style="text-align:right">
      <div style="font-weight:700">Ms. Rivera</div>
      <div style="color:var(--muted);font-size:13px">Computer Science ¬∑ Period 2</div>
    </div>
  </div>

  <div class="assignments">
    <div class="cards">
      <div class="card">
        <div>
          <h3>Assignment: Intro to AetherOS</h3>
          <p>Read the lab instructions and launch the AetherOS environment.</p>
        </div>
        <div>
          <button class="btn" id="goAether">Go to AetherOS Class</button>
          <small class="hint">Opens a classroom virtual OS</small>
        </div>
      </div>
      <div class="card">
        <div>
          <h3>Quiz: OS Basics</h3>
          <p>Due: Today ‚Ä¢ 11:59 PM</p>
        </div>
        <div><button class="btn ghost">View</button></div>
      </div>
      <div class="card">
        <div>
          <h3>Project: Mini Browser</h3>
          <p>Group project ‚Äî deploy a proxy-based browser.</p>
        </div>
        <div><button class="btn ghost">Details</button></div>
      </div>
    </div>

    <aside class="sidebar">
      <h4 style="margin:0 0 8px 0">Classroom</h4>
      <p style="color:var(--muted);margin:0 0 12px 0">Open the AetherOS lab to continue.</p>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <button class="btn ghost">Calendar</button>
        <button class="btn ghost">Grades</button>
        <button class="btn ghost">Files</button>
      </div>
      <div style="margin-top:12px">
        <small style="color:var(--muted)">Tip: Works best in Chrome/Edge</small>
      </div>
    </aside>
  </div>

  <footer class="attribution">
    <div>School Dashboard</div>
    <div style="color:var(--muted)">Built with AetherOS UI</div>
  </footer>
</div>

<script>
const PROXY_URL = "https://aetherosproxy.onrender.com/proxy?url=";
document.getElementById("goAether").addEventListener("click", ()=>openAetherWindow());

function openAetherWindow(){
  const win = window.open("", "_blank", "width=1100,height=700,noopener,noreferrer");
  if(!win){ alert("Popup blocked: allow popups for AetherOS Class."); return; }

  const bootHTML = `
  <!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>AetherOS Boot</title>
  <style>
    html,body{margin:0;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;font-family:Inter,system-ui;background:#0b0f20;color:#eaf2ff}
    .logo{width:100px;height:100px;border-radius:16px;background:linear-gradient(135deg,#7b2ff7,#00d4ff);display:grid;place-items:center;font-size:28px;font-weight:800;color:#02112a;margin-bottom:24px;box-shadow:0 12px 32px rgba(11,13,30,0.6);}
    .bar{width:320px;height:10px;background:rgba(255,255,255,0.05);border-radius:999px;overflow:hidden;margin-top:12px;}
    .bar>i{display:block;height:100%;width:0;background:linear-gradient(90deg,#7b2ff7,#00d4ff);border-radius:999px;transition:width 0.3s linear;}
    .status{margin-top:12px;font-size:14px;color:#9fb1d9;}
  </style></head><body>
  <div class="logo">A</div>
  <div class="status">AetherOS initializing‚Ä¶</div>
  <div class="bar"><i id="bootfill"></i></div>
  <script>
    const fill=document.getElementById('bootfill'); let pct=0;
    const step=()=>{ pct+=Math.floor(Math.random()*20)+10; if(pct>100)pct=100; fill.style.width=pct+'%'; if(pct<100)setTimeout(step,300+Math.random()*400); };
    step();
  </script>
  </body></html>
  `;
  win.document.open(); win.document.write(bootHTML); win.document.close();
  setTimeout(()=>loadDesktop(win), 2500 + Math.random()*800);
}

function loadDesktop(win){
  const desktopHTML = `
  <!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>AetherOS Desktop</title>
  <style>
    :root{--bg:#071022;--accent1:#7b2ff7;--accent2:#00d4ff;--muted:#a0adca;}
    html,body{margin:0;height:100%;background:radial-gradient(circle at 10% 10%, rgba(123,47,247,0.06),transparent 6%),linear-gradient(180deg,#071022 0%,#06111b 60%);color:#eaf2ff;font-family:Inter,system-ui;}
    .desktop-center{height:100%;display:flex;align-items:center;justify-content:center;pointer-events:none;}
    .welcome-card{pointer-events:auto;width:860px;max-width:calc(100%-48px);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:28px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 40px rgba(2,6,23,0.6);}
    .big-brand{width:88px;height:88px;border-radius:14px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:grid;place-items:center;font-weight:800;color:#02112a;font-size:28px;}
    .welcome h2{margin:0;font-size:20px;}
    .welcome p{color:var(--muted);margin-top:8px;}
    .quick{margin-top:16px;display:flex;gap:12px;}
    .quick button{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted);cursor:pointer;}
    .dock { position:fixed; bottom:28px; left:50%; transform:translateX(-50%); display:flex; gap:18px; background:rgba(255,255,255,0.02); padding:12px 18px; border-radius:14px; box-shadow:0 18px 50px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.03)}
    .dock .icon { width:64px; height:64px; border-radius:12px; display:grid; place-items:center; font-size:30px; cursor:pointer; user-select:none; transition:transform .15s ease; }
    .dock .icon:hover{ transform:translateY(-6px) scale(1.05) }
    .app-window { position:fixed; top:8%; left:50%; transform:translateX(-50%); width:84%; height:72%; background:#071022; border-radius:12px; box-shadow:0 24px 60px rgba(2,6,23,0.7); overflow:hidden; display:none; flex-direction:column; border:1px solid rgba(255,255,255,0.03) }
    .win-top{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:8px 12px; display:flex; gap:10px; align-items:center}
    .controls{display:flex;gap:8px}
    .ctrl { width:12px;height:12px;border-radius:50% }
    .close{background:#ff5f57} .min{background:#febc2e} .max{background:#28c840}
    #urlInput{flex:1;padding:8px;border-radius:8px;border:none;background:rgba(255,255,255,0.02);color:#eaf2ff;outline:none}
    .btn{padding:6px 8px;border-radius:8px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#02112a;cursor:pointer}
    .toolbar{display:flex;gap:8px;align-items:center; padding:8px;border-bottom:1px solid rgba(255,255,255,0.02)}
    iframe{flex:1;border:none;width:100%;}
    .sidebar{position:fixed;left:28px;top:28px;background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
    .sidebar button{display:block;margin-bottom:8px;background:transparent;color:var(--muted);border:none;cursor:pointer}
  </style>
  </head><body>
    <div class="desktop-center">
      <div class="welcome-card" id="welcomeCard">
        <div class="big-brand">A</div>
        <div class="welcome">
          <h2>Welcome to AetherOS</h2>
          <p>Open Apps, Games, Browser, or Settings to start.</p>
          <div class="quick">
            <button id="openApps">Apps</button>
            <button id="openGames">Games</button>
            <button id="openBrowserBtn">Browser</button>
            <button id="openSettings">Settings</button>
          </div>
        </div>
      </div>
    </div>

    <!-- dock -->
    <div class="dock">
      <div class="icon" id="dockApps">üóÇÔ∏è</div>
      <div class="icon" id="dockGames">üéÆ</div>
      <div class="icon" id="dockBrowser">üåê</div>
      <div class="icon" id="dockSettings">‚öôÔ∏è</div>
    </div>

    <!-- Apps window -->
    <div class="app-window" id="appsWin">
      <div class="win-top">
        <div class="controls">
          <div class="ctrl close" id="appsClose"></div>
          <div class="ctrl min"></div>
          <div class="ctrl max"></div>
        </div>
        <div style="flex:1"></div>
        <div style="font-size:13px;color:var(--muted)">Apps</div>
      </div>
      <iframe src="${PROXY_URL + encodeURIComponent('https://example.com/apps')}"></iframe>
    </div>

    <!-- Games window -->
    <div class="app-window" id="gamesWin">
      <div class="win-top">
        <div class="controls">
          <div class="ctrl close" id="gamesClose"></div>
          <div class="ctrl min"></div>
          <div class="ctrl max"></div>
        </div>
        <div style="flex:1"></div>
        <div style="font-size:13px;color:var(--muted)">Games</div>
      </div>
      <iframe src="${PROXY_URL + encodeURIComponent('https://example.com/games')}"></iframe>
    </div>

    <!-- Browser window -->
    <div class="app-window" id="browserWin">
      <div class="win-top">
        <div class="controls">
          <div class="ctrl close" id="browserClose"></div>
          <div class="ctrl min"></div>
          <div class="ctrl max"></div>
        </div>
        <div style="flex:1"></div>
        <div style="font-size:13px;color:var(--muted)">Browser</div>
      </div>
      <div class="toolbar">
        <input id="urlInput" placeholder="Enter URL or search" />
        <button class="btn" id="goBtn">Go</button>
      </div>
      <iframe id="browserFrame" src=""></iframe>
    </div>

    <!-- Settings window -->
    <div class="app-window" id="settingsWin">
      <div class="win-top">
        <div class="controls">
          <div class="ctrl close" id="settingsClose"></div>
          <div class="ctrl min"></div>
          <div class="ctrl max"></div>
        </div>
        <div style="flex:1"></div>
        <div style="font-size:13px;color:var(--muted)">Settings</div>
      </div>
      <div style="padding:12px;color:var(--muted)">
        <button id="themeToggle" class="btn" style="margin-bottom:8px;">Toggle Dark/Light Theme</button>
        <button id="fullscreenBtn" class="btn">Fullscreen</button>
      </div>
    </div>

  <script>
    const welcomeCard = document.getElementById('welcomeCard');
    const appsWin = document.getElementById('appsWin');
    const gamesWin = document.getElementById('gamesWin');
    const browserWin = document.getElementById('browserWin');
    const settingsWin = document.getElementById('settingsWin');
    const urlInput = document.getElementById('urlInput');
    const browserFrame = document.getElementById('browserFrame');

    function hideAll(){ appsWin.style.display='none'; gamesWin.style.display='none'; browserWin.style.display='none'; settingsWin.style.display='none'; welcomeCard.style.display='none'; }

    function showWin(win){ hideAll(); win.style.display='flex'; }

    document.getElementById('openApps').addEventListener('click', ()=>showWin(appsWin));
    document.getElementById('openGames').addEventListener('click', ()=>showWin(gamesWin));
    document.getElementById('openBrowserBtn').addEventListener('click', ()=>showWin(browserWin));
    document.getElementById('openSettings').addEventListener('click', ()=>showWin(settingsWin));

    document.getElementById('dockApps').addEventListener('click', ()=>showWin(appsWin));
    document.getElementById('dockGames').addEventListener('click', ()=>showWin(gamesWin));
    document.getElementById('dockBrowser').addEventListener('click', ()=>showWin(browserWin));
    document.getElementById('dockSettings').addEventListener('click', ()=>showWin(settingsWin));

    document.getElementById('appsClose').addEventListener('click', ()=>welcomeCard.style.display='block', appsWin.style.display='none');
    document.getElementById('gamesClose').addEventListener('click', ()=>welcomeCard.style.display='block', gamesWin.style.display='none');
    document.getElementById('browserClose').addEventListener('click', ()=>welcomeCard.style.display='block', browserWin.style.display='none');
    document.getElementById('settingsClose').addEventListener('click', ()=>welcomeCard.style.display='block', settingsWin.style.display='none');

    document.getElementById('goBtn').addEventListener('click', ()=>{ navigateBrowser(urlInput.value); });
    urlInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); navigateBrowser(urlInput.value); }});

    function navigateBrowser(raw){
      if(!raw) return;
      let url = raw.startsWith('http') ? raw : 'https://'+raw;
      browserFrame.src = url;
    }

    document.getElementById('themeToggle').addEventListener('click', ()=>{
      document.body.style.background = document.body.style.background.includes('#fff') ? 'radial-gradient(circle at 10% 10%, rgba(123,47,247,0.06),transparent 6%),linear-gradient(180deg,#071022 0%,#06111b 60%)' : '#fff';
    });
    document.getElementById('fullscreenBtn').addEventListener('click', ()=>{ if(document.fullscreenElement){ document.exitFullscreen(); }else{ document.documentElement.requestFullscreen(); }});
  </script>
  </body></html>
  `;
  win.document.open(); win.document.write(desktopHTML); win.document.close();
  win.focus();
}
</script>
</body>
</html>
